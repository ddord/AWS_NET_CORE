#pragma checksum "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ace494b7c57a911db13216077df4a933bef2646b"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_MovieItemModification), @"mvc.1.0.view", @"/Views/Home/MovieItemModification.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\_ViewImports.cshtml"
using CloudNativeWeb;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\_ViewImports.cshtml"
using CloudNativeWeb.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ace494b7c57a911db13216077df4a933bef2646b", @"/Views/Home/MovieItemModification.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"92cb6c815609e38e3d7c5c27f3b9d66009de0473", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_MovieItemModification : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml"
  
    Layout = "_PopLayout";
    ViewData["Title"] = "Movie item modify";

#line default
#line hidden
#nullable disable
            DefineSection("Scripts", async() => {
                WriteLiteral("\r\n    <script>\r\n        var currentId = \"");
#nullable restore
#line 7 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml"
                    Write(ViewBag.CurrentId);

#line default
#line hidden
#nullable disable
                WriteLiteral(@""";

        function fnDocumentReadyCommon() {
            m_CurrentService = ""Announcements"";

            fnRegionFill();
            fnSelectAnnouncementsList();

            m_Editor.Set($(""#txtEditor""), $(""#txtTempFile""));
            m_Editor.Set($(""#txtEditor_Eng""), $(""#txtTempFile_Eng""));

            m_KorEditor = $(""#txtEditor"").data(""kendoEditor"");
            m_EngEditor = $(""#txtEditor_Eng"").data(""kendoEditor"");
        }

        function fnChangeTab(elem) {
            var language = $(elem).attr('id').replace(""tab"", """");

            $(elem).closest('ul').find('li').removeClass(""active"");
            $(elem).closest('ul').find('#tab' + language).addClass(""active"");

            $('#inputField').children('div').hide();
            $('#inputField').find('#tbl' + language).show();
        }

        function fnSelectAnnouncementsList() {

            var param = {
                indexNumber: currentId
            }

            m_Ajax.Call('");
#nullable restore
#line 38 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml"
                    Write(Url.Action("SelectAnnouncementsItem"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"', param, function (data) {
                $('#txtTitle').val(data[0].Title);
                $('#txtUrl').val(data[0].txtUrl);
                $('#txtCreateDate').val(data[0].CreateDate);
                m_KorEditor.value(data[0].Content);
                if (data[0].IsIntraNet == 1) {
                    $('#chkIsIntraNet').prop(""checked"", true);
                }
                if (data[0].IsActive == 1) {
                    $('#chkIsActive').prop(""checked"", true);
                }
                $('#txtUrl').val(data[0].Url);
                $('#txtTitle_Eng').val(data[0].Title_Eng);
                m_EngEditor.value(data[0].Content_Eng);

                $('#txtUrl_Eng').val(data[0].Url_Eng);
                $('#txtDisplayBegin').val(data[0].DisplayBegin);
                $('#txtDisplayEnd').val(data[0].DisplayEnd);

                if (data[0].RegionName) {
                    regionNames = data[0].RegionName;
                    regionName = [regionNames.split('|')];
        ");
                WriteLiteral(@"            regionName = regionName[0];

                    for (var RegionName in regionName) {
                        $(""input:checkbox[name='region']:checkbox[value='"" + regionName[RegionName] + ""'"" + ""]"").prop(""checked"", true);
                    }
                }

                if ($('#region_table_tbody input[type=checkbox]:checked').length == $('#region_table_tbody  input[type=checkbox]').length - 1) {
                    $('#chkAll').prop('checked', true);
                }
            });
        }

        function fnUpdateAnnouncements() {
            if (!m_Required.Check()) {
                return;
            }

            if ($(""#region_table_tbody input[type=checkbox]:checked"").length == 0) {
                alert(""지역을 설정하시기 바랍니다."");
                return;
            }
            if ($(""#txtEditor"").val() == """") {
                alert(""내용(한글)이 비어있습니다."");
                return;
            }
            var regiong_list = []
            $(""#region_table""");
                WriteLiteral(@").find(""input[type=checkbox]:checked"").each(function () {
                if ($(this).attr('id') != 'chkAll') {

                    regiong_list.push({ IndexNumber: currentId, RegionName: $(this).val() });
                }
            });

            var updateParam = {
                tempId: currentId,
                model: {
                    Title: $('#txtTitle').val(),
                    Url: $('#txtUrl').val(),
                    IsIntraNet: $(""#chkIsIntraNet"").is("":checked""),
                    UpdateUser: """);
#nullable restore
#line 100 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml"
                            Write(CloudNativeWeb.Common.UserInfo.Current.ID);

#line default
#line hidden
#nullable disable
                WriteLiteral("\",\r\n                    UpdateUserName: \"");
#nullable restore
#line 101 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml"
                                Write(CloudNativeWeb.Common.UserInfo.Current.DisplayName);

#line default
#line hidden
#nullable disable
                WriteLiteral(@""",
                    Content: m_KorEditor.value(),
                    Title_Eng: $('#txtTitle_Eng').val(),
                    Content_Eng: m_EngEditor.value(),
                    IsActive: $(""#chkIsActive"").is("":checked""),
                    Url_Eng: $('#txtUrl_Eng').val(),
                    DisplayBegin: $('#txtDisplayBegin').val(),
                    DisplayEnd: $('#txtDisplayEnd').val()
                },
                regionParam: regiong_list
            }

            m_Ajax.Call('");
#nullable restore
#line 113 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml"
                    Write(Url.Action("UpdateAnnouncements"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"', updateParam, function (data) {
                if (data > 0) {
                    alert(""저장했습니다."");
                    opener.fnDocumentReadyCommon()
                    m_Popup.Close();
                } else {
                    alert(""오류가 발생하였습니다. 잠시만 기다려주세요."");
                }
            });
        }

        function fnCheckItem(chkThis) {
            var chklbl = $(chkThis).closest('label');
            var chkItem = $(chkThis);
            if (chklbl.text() == ""All"" && chkItem.is(':checked') == true) {
                $(chklbl).closest('tbody').find(""[type=checkbox]"").prop(""checked"", true);
            } else if (chklbl.text() == ""All"" && chkItem.is(':checked') == false) {
                $(chkThis).closest('tbody').find(""[type=checkbox]"").prop(""checked"", false);
            } else if (chklbl.text() != ""All"" && chkItem.is(':checked') == false) {
                $(""#chkAll"").prop(""checked"", false);
            }

            var allCnt = $(chkThis).closest('tbody').find('");
                WriteLiteral(@"[type=checkbox]').length - 1;
            var checkedCnt = 0;

            $(chkThis).closest('tbody').find('[type=checkbox]').each(function () {
                if ($(this).closest('label') != ""All"") {
                    if ($(this).is(':checked')) {
                        checkedCnt++;
                    }
                }
            });

            if (allCnt == checkedCnt) {
                $(""#chkAll"").prop(""checked"", true);
            }
        }

        function fnRegionFill() {
            var param = { }
            m_Ajax.Call('");
#nullable restore
#line 153 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml"
                    Write(Url.Action("SelectRegionList"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"', param, function (data) {
                if (data.length  > 0) {

                    var item_cnt = 0;
                    var td_html = """";
                    var changeHtml = $('#region_table #region_table_tbody').html();

                    td_html += '<tr><td style=""border: 0;""><label><input type=""checkbox"" id=""chkAll"" value=""All"" onclick=""fnCheckItem(this);"">All</label></td></tr>';

                    $(data).each(function (i) {
                        item_cnt += 1
                        td_html += '<td style=""border: 0;""><label><input type=""checkbox"" name=""region"" value=""' + data[i].RegionName + '"" onclick=""fnCheckItem(this);"">' + data[i].RegionName + '</label></td>';
                        if (item_cnt == 4) {
                            td_html = '<tr>' + td_html + '<tr>';
                            changeHtml += td_html;
                            td_html = """";
                            item_cnt = 0;
                        }
                    });

                ");
                WriteLiteral(@"    if (td_html != """") {
                        td_html = '<tr>' + td_html + '<tr>';
                        changeHtml += td_html;
                        td_html = """";
                    }

                    $('#region_table #region_table_tbody').html(changeHtml);
                } else {
                    alert(""조회 결과가 없습니다."");
                }
            })
        }

        function fnSetIsActive() {
            var flag = false;
            if ($('#chkIsActive').is(':checked')) {
                if (confirm(""공지가 메인화면에 노출됩니다. 계속 진행하시겠습니까 ?"")) {
                    flag = true;
                } else {
                    $('#chkIsActive').prop('checked', false);
                    return;
                }
            }
            else {
                if (confirm(""공지가 메인화면에 노출되지 않습니다. 계속 진행하시겠습니까 ?"")) {
                    flag = false;
                } else {
                    $('#chkIsActive').prop('checked', true);
                    return;
              ");
                WriteLiteral("  }\r\n            }\r\n\r\n            var param = {\r\n                indexNumber: currentId,\r\n                isActive: flag,\r\n                page: \"Announcements\"\r\n            }\r\n            m_Ajax.Call(\'");
#nullable restore
#line 210 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml"
                    Write(Url.Action("UpdateActive"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"', param, function (data) {
                if (data > 0) {
                    alert(""공지 노출 설정이 변경되었습니다."");
                    opener.fnDocumentReadyCommon()
                } else {
                    alert(""공지 노출 변경이 실패했습니다."");
                    if (flag) {
                        $('#chkIsActive').prop('checked', false);
                    } else {
                        $('#chkIsActive').prop('checked', true);
                    }
                }
            })
        }

        function fnDelete() {
            if (confirm(""삭제 하시겠습니까?"")) {
                var params = {
                    indexNumber: currentId
                };

                m_Ajax.Call('");
#nullable restore
#line 231 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml"
                        Write(Url.Action("DeleteAnnouncements"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"', params, function (data) {
                    opener.fnDocumentReadyCommon();
                    if (data) {
                        alert(""삭제했습니다."");
                        m_Popup.Close();
                    } else {
                        alert(""오류가 발생하였습니다. 잠시만 기다려주세요."");
                    }
                });
            }
        }
    </script>
");
            }
            );
            WriteLiteral("<div>\r\n    <div class=\"pop-header dp-flex mr-auto\">\r\n        <h6 class=\"title\">");
#nullable restore
#line 246 "C:\mainFolder\03_study\002_ASP_NET\AWS_WEBAPP\AWS_NET_CORE\CloudNativeWebSolution\CloudNativeWeb\Views\Home\MovieItemModification.cshtml"
                     Write(ViewData["Title"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</h6>
    </div>

    <div class=""pop-content"">
        <div class=""pop-size optional-pop-padding"">

            <div class=""space-s""></div>

            <div class=""tab-content flex-1 overflow-auto-y p-t-l"">
                <table width=""100%"" class=""tbl-basic"">
                    <colgroup>
                        <col width=""12%"" />
                        <col width=""38%"" />
                        <col width=""12%"" />
                        <col width=""38%"" />
                    </colgroup>
                    <tbody>
                        <tr>
                            <th>활성화</th>
                            <td>
                                <input type=""checkbox"" id=""chkIsActive"" onchange=""fnSetIsActive()"" />
                            </td>
                            <th>로그인 전용</th>
                            <td>
                                <input type=""checkbox"" id=""chkIsIntraNet"" />
                            </td>
                        </tr>
         ");
            WriteLiteral(@"               <tr>
                            <th>시작일</th>
                            <td>
                                <input id=""txtDisplayBegin"" type=""text"" style=""width: 200px; "" m_datepicker m_required=""시작일"" />
                            </td>
                            <th>종료일</th>
                            <td>
                                <input id=""txtDisplayEnd"" type=""text"" style=""width: 200px;"" m_datepicker m_required=""종료일"" />
                            </td>
                        </tr>
                        <tr>
                            <th>공지 지역선택<span class=""required"">*</span></th>
                            <td colspan=""3"">
                                <table id=""region_table"">
                                    <colgroup>
                                        <col width=""150"" />
                                        <col width=""150"" />
                                        <col width=""150"" />
                                        <col width=""");
            WriteLiteral(@"150"" />
                                    </colgroup>
                                    <tbody id=""region_table_tbody"">
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class=""space-m""></div>

            <div class=""subpage-body"">

                <ul class=""nav nav-tabs"">
                    <li id=""tabKor"" class=""tablink active"" onclick=""fnChangeTab(this);""><a>한글</a></li>
                    <li id=""tabEng"" class=""tablink"" onclick=""fnChangeTab(this);""><a>영어</a></li>
                </ul>

                <div id=""inputField"" class=""tab-content flex-1 overflow-auto-y p-t-l"">

                    <div id=""tblKor"">
                        <table width=""100%"" class=""tbl-basic"">
                            <colgroup>
                                <col width=""12%"" />
                         ");
            WriteLiteral(@"       <col width=""18%"" />
                                <col width=""12%"" />
                                <col width=""26%"" />
                                <col width=""12%"" />
                                <col width=""20%"" />
                            </colgroup>
                            <tbody>
                                <tr>
                                    <th>제목<span class=""required"">*</span></th>
                                    <td colspan=""5"">
                                        <input id=""txtTitle"" type=""text"" class=""fm-def"" style=""width: 100%;"" m_required=""제목"" />
                                    </td>
                                </tr>
                                <tr>
                                    <th>URL</th>
                                    <td colspan=""5"">
                                        <input id=""txtUrl"" type=""text"" class=""fm-def"" style=""width: 100%;"" />
                                    </td>
                           ");
            WriteLiteral(@"     </tr>
                            </tbody>
                        </table>
                        <textarea id=""txtEditor"" aria-label=""editor"" style=""height:600px;""></textarea>
                        <input id=""txtTempFile"" type=""file"" accept="".gif, .jpg, .png"" onchange=""m_Editor.ImageUpload(event, currentId, 'ko');"" style=""display:none;"" />
                    </div>

                    <div id=""tblEng"" style=""display:none;"">

                        <table width=""100%"" class=""tbl-basic"">
                            <colgroup>
                                <col width=""12%"" />
                                <col width=""18%"" />
                                <col width=""12%"" />
                                <col width=""26%"" />
                                <col width=""12%"" />
                                <col width=""20%"" />
                            </colgroup>
                            <tbody>
                                <tr>
                                    ");
            WriteLiteral(@"<th>제목<span class=""required"">*</span></th>
                                    <td colspan=""5"">
                                        <input id=""txtTitle_Eng"" type=""text"" class=""fm-def"" style=""width: 100%;"" />
                                    </td>
                                </tr>
                                <tr>
                                    <th>URL</th>
                                    <td colspan=""5"">
                                        <input id=""txtUrl_Eng"" type=""text"" class=""fm-def"" style=""width: 100%;"" />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <textarea id=""txtEditor_Eng"" aria-label=""editor"" style=""height:600px;""></textarea>
                        <input id=""txtTempFile_Eng"" type=""file"" accept="".gif, .jpg, .png"" onchange=""m_Editor.ImageUpload(event, currentId, 'en');"" style=""display:none;"" />
                    </div>

     ");
            WriteLiteral(@"           </div>
            </div>
        </div>

        <div class=""pop-footer"">
            <div class=""dp-flex"">
                <div>
                    <button class=""btn page-btn btn-basic"" id=""btnDelete"" onclick=""fnDelete();"">삭제</button>
                </div>
                <div class=""ml-auto"">
                    <button class=""btn page-btn btn-basic"" onclick=""fnUpdateAnnouncements();"">저장</button>
                    <button class=""btn page-btn btn-basic"" onclick=""m_Popup.Close();"">취소</button>
                </div>
            </div>
        </div>
    </div>
</div>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
